# 🚀 快速开始指南

欢迎使用择图导航网站系统！本指南将帮助你在5分钟内快速启动项目。

## ⚠️ 安全警告

**部署到生产环境前，必须阅读并完成 [SECURITY.md](./SECURITY.md) 中的安全配置！**

特别是：
- 🔴 **修改默认JWT密钥** - 否则任何人都可以伪造登录token
- 🔴 **修改默认管理员密码** (`admin`/`admin123`) - 否则任何人都可以登录后台

---

## ⚡ 一键启动（5分钟）

### 第1步：安装依赖（1分钟）

```bash
npm install
```

### 第2步：配置环境变量（2分钟）

在项目根目录创建 `.env` 文件：

```env
# 数据库连接（使用你的实际信息）
DATABASE_URL="mysql://zetu-nav:0dae0b6a05@111.231.204.182:3306/zetu-nav"

# JWT密钥（🔴 生产环境必须修改！）
# 生成方法：node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="fd8aef536537e43996ca1e58fc244f1c5f1d82b8e7f8604c3b90b0d3f74c0e6d"
```

> **🔴 安全提示：** 
> - 开发环境可以使用上面的默认值
> - **生产环境必须生成新的随机密钥**
> - 运行 `node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"` 生成
> - 详见 [SECURITY.md](./SECURITY.md)

> **提示：** 详细配置说明请查看 [环境变量配置文档](./docs/环境变量配置.md)

### 第3步：同步数据库（1分钟）

```bash
# 创建数据库表结构
npx prisma db push

# （可选）填充示例数据
npm run seed
```

### 第4步：启动项目（1分钟）

```bash
# 开发模式
npm run dev

# 然后访问 http://localhost:3000
```

---

## 🎯 默认账号

运行 `npm run seed` 后，会创建默认管理员账号：

- **用户名：** `admin`
- **密码：** `admin123`

> **🔴 安全警告：** 
> - 这是公开的默认密码，任何人都知道！
> - **必须立即修改密码！**
> - 进入后台 → 用户管理 → 编辑admin → 重置密码
> - 详见 [SECURITY.md](./SECURITY.md)

---

## 📱 功能导航

### 前台页面

| 页面 | 路径 | 说明 |
|------|------|------|
| 🏠 首页 | `/` | 网站导航 |
| 📝 文章列表 | `/articles` | 所有文章 |
| 📄 文章详情 | `/posts/[slug]` | 阅读文章 |
| 🔍 搜索 | `/search` | 搜索网站和文章 |
| ❤️ 我的收藏 | `/favorites` | 查看收藏内容 |
| ⚙️ 个人设置 | `/settings` | 修改个人信息 |
| 🔐 登录 | `/login` | 用户登录 |

### 后台管理（需要管理员权限）

| 页面 | 路径 | 说明 |
|------|------|------|
| 📊 仪表盘 | `/admin` | 管理后台首页 |
| 🌐 网站管理 | `/admin/websites` | 管理导航网站 |
| 📝 文章管理 | `/admin/articles` | 管理文章内容 |
| 📂 分类管理 | `/admin/categories` | 管理分类 |
| 🏷️ 标签管理 | `/admin/tags` | 管理标签 |
| 👥 用户管理 | `/admin/users` | 管理用户账号 |

---

## 💡 快速操作指南

### 添加网站

1. 登录管理后台 → `/admin/websites`
2. 点击「➕ 添加网站」
3. 填写网站信息：
   - 名称：网站名称
   - 描述：简短介绍
   - URL：网站链接
   - Logo：图片URL（暂不支持上传）
   - 分类：选择所属分类
4. 保存

### 发布文章

1. 登录管理后台 → `/admin/articles`
2. 点击「➕ 添加文章」
3. 填写文章信息：
   - 标题：文章标题
   - 别名：URL路径（自动生成）
   - 分类：选择分类
   - 标签：选择或添加标签
   - 内容：使用Markdown编辑器
   - 封面：图片URL
4. 选择「发布」或「草稿」
5. 保存

### 管理分类

1. 登录管理后台 → `/admin/categories`
2. 选择Tab：「网站导航分类」或「文章分类」
3. 点击「➕ 添加分类」
4. 填写分类信息：
   - 名称：分类名称
   - URL别名：英文标识
   - 图标：Emoji表情
   - 每行卡片数：3-6列（网站分类）
5. 保存

### 管理标签

1. 登录管理后台 → `/admin/tags`
2. 点击「➕ 添加标签」
3. 填写标签信息：
   - 名称：标签名称
   - URL别名：英文标识
   - 颜色：选择预设或自定义
4. 保存

---

## 📚 详细文档

- 📖 [功能完成说明](./功能完成说明.md) - 所有功能清单
- 🚀 [部署指南](./docs/部署指南.md) - 生产环境部署
- 🔧 [环境变量配置](./docs/环境变量配置.md) - 配置详解
- 📦 [腾讯云COS配置](./docs/腾讯云COS配置指南.md) - 图片上传
- 🔌 [API文档](./docs/API文档.md) - 接口说明
- 🗄️ [数据库设置](./DATABASE_SETUP.md) - 数据库配置

---

## 🔧 常用命令

```bash
# 开发
npm run dev          # 启动开发服务器
npm run build        # 构建生产版本
npm start            # 启动生产服务器

# 数据库
npx prisma studio    # 打开数据库管理界面
npx prisma db push   # 同步数据库结构
npm run seed         # 填充示例数据

# 工具
npx prisma generate  # 重新生成Prisma Client
```

---

## ⚠️ 注意事项

### 数据库相关
- 首次启动前必须运行 `npx prisma db push`
- `npm run seed` 会清空现有数据，谨慎使用
- 定期备份数据库

### 安全相关
- 修改默认管理员密码
- 使用强JWT密钥
- 不要将 `.env` 提交到Git

### 图片相关
- 目前需要手动输入图片URL
- 建议使用腾讯云COS或图床
- 支持配置COS进行图片上传（需额外配置）

---

## 🐛 遇到问题？

### 常见问题

**Q: 数据库连接失败？**
- 检查 `.env` 中的 `DATABASE_URL` 是否正确
- 确认数据库服务正在运行
- 检查防火墙和端口

**Q: 页面显示空白？**
- 检查是否运行了 `npx prisma db push`
- 查看浏览器控制台错误信息
- 检查数据库中是否有数据

**Q: 无法登录后台？**
- 确认是否运行了 `npm run seed`
- 检查默认账号：`admin` / `admin123`
- 查看浏览器Network面板的错误信息

### 获取帮助

1. 查看相关文档（`/docs` 目录）
2. 检查浏览器控制台错误
3. 查看服务器日志
4. 使用 Prisma Studio 检查数据

---

## ✨ 下一步

项目启动成功后，你可以：

1. **自定义内容**
   - 修改网站名称和Logo
   - 添加自己的分类和网站
   - 撰写文章内容

2. **调整样式**
   - 修改配色方案（Tailwind CSS）
   - 自定义组件样式
   - 调整布局

3. **扩展功能**
   - 配置图片上传（COS）
   - 添加评论系统
   - 集成数据统计

4. **准备部署**
   - 阅读[部署指南](./docs/部署指南.md)
   - 配置生产环境
   - 选择部署平台

---

**祝你使用愉快！** 🎉

如有任何问题，请查看详细文档或检查相关配置。


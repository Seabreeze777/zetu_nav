# 表单验证使用指南

## 使用方法

### 基本验证

```typescript
import { validateEmail, validateURL, validatePassword, validateRequired } from '@/utils/validation'

// 验证邮箱
const isValid = validateEmail('user@example.com') // true or false

// 验证URL
const isValidURL = validateURL('https://example.com') // true or false

// 验证密码
const passwordResult = validatePassword('weak') 
// { valid: false, message: '密码至少需要8个字符' }

// 验证必填
const requiredResult = validateRequired('', '用户名')
// { valid: false, message: '用户名不能为空' }
```

### 在表单中使用

```typescript
'use client'

import { useState } from 'react'
import { validateEmail, validatePassword, validateBatch } from '@/utils/validation'

export default function RegisterForm() {
  const [email, setEmail] = useState('')
  const [password, setPassword] = useState('')
  const [errors, setErrors] = useState<string[]>([])

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    
    // 批量验证
    const result = validateBatch([
      { 
        valid: validateEmail(email), 
        message: '请输入有效的邮箱地址' 
      },
      validatePassword(password),
    ])

    if (!result.valid) {
      setErrors(result.errors)
      return
    }

    // 提交表单
    console.log('Form is valid!')
  }

  return (
    <form onSubmit={handleSubmit}>
      {errors.length > 0 && (
        <div className="text-red-600">
          {errors.map((err, i) => (
            <p key={i}>{err}</p>
          ))}
        </div>
      )}
      
      <input
        type="email"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        placeholder="邮箱"
      />
      
      <input
        type="password"
        value={password}
        onChange={(e) => setPassword(e.target.value)}
        placeholder="密码"
      />
      
      <button type="submit">注册</button>
    </form>
  )
}
```

### 实时验证

```typescript
const [emailError, setEmailError] = useState('')

const handleEmailBlur = () => {
  if (!validateEmail(email)) {
    setEmailError('请输入有效的邮箱地址')
  } else {
    setEmailError('')
  }
}

<input
  type="email"
  value={email}
  onChange={(e) => setEmail(e.target.value)}
  onBlur={handleEmailBlur}
/>
{emailError && <p className="text-red-600 text-sm">{emailError}</p>}
```

## 验证规则

### 邮箱验证
- 必须包含 `@` 符号
- `@` 后必须有域名
- 域名必须包含 `.` 和后缀

### URL验证
- 必须以 `http://` 或 `https://` 开头
- 必须是有效的URL格式

### 密码验证
- 默认最少8个字符（可自定义）
- 必须包含至少一个数字
- 必须包含至少一个字母

### 用户名验证
- 长度3-20个字符
- 只能包含字母、数字、下划线

### 手机号验证
- 中国大陆手机号
- 11位数字
- 以1开头，第二位为3-9

